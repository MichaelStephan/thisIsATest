<?xml version="1.0" encoding="UTF-8"?>
<!--
    Logback configuration for PayrollmngmtApplication
    
    Security: This configuration explicitly excludes the ServerSocketReceiver and
    ServerSocketAppender components to remediate CVE-2023-6481 (Uncontrolled Resource
    Consumption vulnerability in ch.qos.logback:logback-core).
    
    CVE-2023-6481 affects logback-core versions prior to 1.2.13, 1.3.14, and 1.4.14.
    This application uses logback-core 1.5.18 which includes the fix, and this
    configuration provides defense-in-depth by ensuring receiver components are
    not enabled.
-->
<configuration>
    <include resource="org/springframework/boot/logging/logback/defaults.xml"/>
    
    <!-- Console appender for standard logging -->
    <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>
        </encoder>
    </appender>
    
    <!-- Root logger configuration -->
    <root level="INFO">
        <appender-ref ref="CONSOLE"/>
    </root>
    
    <!-- Application-specific logging -->
    <logger name="com.acme.payrollmngmt" level="INFO"/>
    
    <!-- 
        SECURITY NOTE: ServerSocketReceiver and ServerSocketAppender are NOT configured.
        These components are the attack vector for CVE-2023-6481. By not including them
        in the configuration, we ensure they cannot be exploited even if present in the
        classpath.
        
        DO NOT add configurations like:
        - <receiver class="ch.qos.logback.classic.net.server.ServerSocketReceiver">
        - <appender class="ch.qos.logback.classic.net.SocketAppender">
        
        without proper security review and access restrictions.
    -->
</configuration>
